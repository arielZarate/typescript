{"ast":null,"code":"import { addUser } from \"../feactures/user/UserSlices\";\n//const dispatch = useAppDispatch();\n\n//import { useAppDispatch } from \"../../hooks/useStore\";\nlet uri = \"http://localhost:3001/api/user\";\nconst fetchUser = async () => {\n  try {\n    const res = await fetch(uri);\n    const users = await res.json(); //la nfo esta en json() si es axios se usa .data();\n\n    return users;\n  } catch (error) {\n    if (error instanceof Error) {\n      console.log(error.message);\n    }\n  }\n};\n\n// Función para agregar un usuario\nconst addUserToServer = async user => {\n  return async dispatch => {\n    const res = await fetch(uri, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(user)\n    });\n    if (!res.ok) {\n      throw new Error(\"Failed to add user\");\n    }\n    const newUser = await res.json();\n    dispatch(addUser(newUser));\n    return newUser;\n  };\n};\nexport { fetchUser, addUserToServer };","map":{"version":3,"names":["addUser","uri","fetchUser","res","fetch","users","json","error","Error","console","log","message","addUserToServer","user","dispatch","method","headers","body","JSON","stringify","ok","newUser"],"sources":["/media/ariel/ssd Datos_aux/typescript/wks-typescript/client/src/Redux/thunk/UserThunks.ts"],"sourcesContent":["import { useAppDispatch } from \"../../hooks/useStore\";\nimport { addUser } from \"../feactures/user/UserSlices\";\nimport { AppDispatch } from \"../store\";\n\n//const dispatch = useAppDispatch();\n\n//import { useAppDispatch } from \"../../hooks/useStore\";\nlet uri = \"http://localhost:3001/api/user\";\n\nconst fetchUser = async () => {\n  try {\n    const res = await fetch(uri);\n    const users = await res.json(); //la nfo esta en json() si es axios se usa .data();\n\n    return users;\n  } catch (error) {\n    if (error instanceof Error) {\n      console.log(error.message);\n    }\n  }\n};\n\n// Función para agregar un usuario\nconst addUserToServer = async (user: { name: string; lastName: string }) => {\n  return async (dispatch: AppDispatch) => {\n    const res = await fetch(uri, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify(user),\n    });\n    if (!res.ok) {\n      throw new Error(\"Failed to add user\");\n    }\n    const newUser = await res.json();\n\n    dispatch(addUser(newUser));\n    return newUser;\n  };\n};\n\nexport { fetchUser, addUserToServer };\n"],"mappings":"AACA,SAASA,OAAO,QAAQ,8BAA8B;AAGtD;;AAEA;AACA,IAAIC,GAAG,GAAG,gCAAgC;AAE1C,MAAMC,SAAS,GAAG,MAAAA,CAAA,KAAY;EAC5B,IAAI;IACF,MAAMC,GAAG,GAAG,MAAMC,KAAK,CAACH,GAAG,CAAC;IAC5B,MAAMI,KAAK,GAAG,MAAMF,GAAG,CAACG,IAAI,CAAC,CAAC,CAAC,CAAC;;IAEhC,OAAOD,KAAK;EACd,CAAC,CAAC,OAAOE,KAAK,EAAE;IACd,IAAIA,KAAK,YAAYC,KAAK,EAAE;MAC1BC,OAAO,CAACC,GAAG,CAACH,KAAK,CAACI,OAAO,CAAC;IAC5B;EACF;AACF,CAAC;;AAED;AACA,MAAMC,eAAe,GAAG,MAAOC,IAAwC,IAAK;EAC1E,OAAO,MAAOC,QAAqB,IAAK;IACtC,MAAMX,GAAG,GAAG,MAAMC,KAAK,CAACH,GAAG,EAAE;MAC3Bc,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE;QACP,cAAc,EAAE;MAClB,CAAC;MACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACN,IAAI;IAC3B,CAAC,CAAC;IACF,IAAI,CAACV,GAAG,CAACiB,EAAE,EAAE;MACX,MAAM,IAAIZ,KAAK,CAAC,oBAAoB,CAAC;IACvC;IACA,MAAMa,OAAO,GAAG,MAAMlB,GAAG,CAACG,IAAI,CAAC,CAAC;IAEhCQ,QAAQ,CAACd,OAAO,CAACqB,OAAO,CAAC,CAAC;IAC1B,OAAOA,OAAO;EAChB,CAAC;AACH,CAAC;AAED,SAASnB,SAAS,EAAEU,eAAe","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}